<script setup>
    import {ref, watch} from 'vue';
    import { useClientsStore } from '../stores/clients';
    import moment from "moment";
    import fr from 'moment/dist/locale/fr';

    import * as htmlToImage from 'html-to-image';
    import { jsPDF } from "jspdf";
    
    import keyMap from '../assets/json/keyMap.json';
    import Toast from '../components/Toast.vue';

    moment.updateLocale('fr', fr);
    
    // #region VARIABLES
    const uri = import.meta.env.VITE_URL;
    const props = defineProps(['client', 'isOpen', 'generate']);
    const emit = defineEmits(["modal-close", "base64generated"]);
    const clientsStore = useClientsStore();
    const current_user = ref(null);
    const page = ref(null);
    const blobImage = ref(null);
    // #endregion

    // #region FUNCTIONS 
    const handlePDF = () => {
        if(props.isOpen){
            document.querySelector('html, body').classList.add('noscroll');
            createPDF();
        }
    }

    function calculateAge(dateString) {
		let today = new Date()
		let birthDate = new Date(dateString)
		let age = today.getFullYear() - birthDate.getFullYear()
		let monthDifference = today.getMonth() - birthDate.getMonth()
		if (monthDifference < 0 || (monthDifference === 0 && today.getDate() < birthDate.getDate())) {
			age--
		}
		return age
	}

    const createPDF = async () => {  
        await getBlobImage().then(async () => {
            let pdf = page.value

            let doc = new jsPDF({ compress: false });

            const fontEmbedCss = await htmlToImage.getFontEmbedCSS(pdf);
            const dataUrl1 = await htmlToImage.toJpeg(pdf, { quality: 0.9, pixelRatio: 1.5, fontEmbedCss });
            doc.addImage(dataUrl1, 'JPEG', 0, 0, 210, 297);

            doc.save(`portrait-client-${current_user.value.ref_cli}.pdf`);
        })
    }

    const getBlobImage = () => {
        return new Promise((resolve) => {
            clientsStore.getClientImage(props.client)
            .then(res => {
                blobImage.value = res;
                resolve()
            })
            .catch(err => console.error(err))
        })
        
    }

    const closePDF = () => {
        emit('modal-close');
        document.querySelector('html, body').classList.remove('noscroll');
    }

    const generateAttachment = async () => {
        if(props.generate.state){
            console.log(props.generate)
            await getBlobImage().then(async () => {
                let pdf = page.value

                let doc = new jsPDF({ compress: false });

                const dataUrl1 = await htmlToImage.toJpeg(pdf, { quality: 0.9, pixelRatio: 1.5, skipFonts: true });
                doc.addImage(dataUrl1, 'JPEG', 0, 0, 210, 297);
                
                var pdfBase64 = doc.output('datauristring');
                emit('base64generated', {file: pdfBase64.split(',')[1], email: props.generate.email});
            })
        }
        
    }

    const getSituationCli = () => {
        let string = '';
        for (const [key, value] of Object.entries(current_user.value.situation_cli)) {
            if(value){
                switch (key) {
                    case 'celib_cli' :
                        string += 'Célibataire '; 
                        break;
                    case 'sep_cli' :
                        string += 'Séparé(e) '
                        break;
                    case 'div_cli' :
                        string += 'Divorcé(e)'
                        break;
                    case 'veuf_cli' :
                        string += 'Veuf(ve)'
                        break;
                }
            }
        }
        return string
    }

    const fetchClient = () => {
        clientsStore.getClient(props.client)
		.then(res => {
            current_user.value = res.client
            if(res.client.situation_cli){
                current_user.value.situation_cli = JSON.parse(res.client.situation_cli);
            }
		})
    }

    const mapKey = (key, value) => {
        return keyMap[key][value]
    }


    watch(() => props.isOpen, handlePDF, {immediate: true});
    watch(() => props.generate, generateAttachment, {immediate: true});
    watch(() => props.client, fetchClient, {immediate: true});
    // #endregion
</script>

<template>
    <div v-if="client && current_user" :class="isOpen ? 'pointer-events-all left-0' : 'pointer-events-none -left-[9999px]'" class="overflow-hidden fixed top-0 w-full h-full z-50">
        <div class="wrapperPDF">
            <button @click="closePDF" class="absolute top-8 right-8 z-[2] w-8 h-8 bg-primary rounded-full flex items-center justify-center cursor-pointer">
                <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                    <path fill="white" d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/>
                </svg>
            </button>
            
            <div class="wrapperPDF__background bg-black/30 absolute top-0 left-0 w-full h-full z-[-1] backdrop-blur-sm"></div>
            <div class="wrapperPDF__content absolute top-0 left-0 w-full h-full z-[1] overflow-y-scroll">
                <div id="pdf" class="font-[Avenir]">
                    <div class="page flex flex-col overflow-hidden relative p-8" ref="page">
                        <div class="mt-20">
                            <h2 class="text-rose-600 text-4xl font-['Baloo_Bhai']">Le profil</h2>
                        </div>

                        <svg class="absolute left-1/2 top-0 -translate-x-1/2 -translate-y-1/2" width="356px" height="350px" viewBox="0 0 253 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <g id="Group-25" transform="translate(-0.000000, 1.000000)">
                                    <path d="M208.464869,168.726087 C176.096869,190.909087 132.443869,189.149087 101.932869,163.870087" id="Stroke-1" stroke="#E5007D" stroke-width="0.744" stroke-dasharray="9.950000000000001,9.949999999999999"></path>
                                    <path d="M85.2113692,145.562787 C63.0283692,113.194787 64.7883692,69.541787 90.0673692,39.029787" id="Stroke-3" stroke="#E5007D" stroke-width="0.744" stroke-dasharray="9.950000000000001,9.949999999999999"></path>
                                    <path d="M108.374569,22.309287 C140.742569,0.126286991 184.395569,1.88628699 214.906569,27.165287" id="Stroke-5" stroke="#E5007D" stroke-width="0.744" stroke-dasharray="9.950000000000001,9.949999999999999"></path>
                                    <path d="M231.628169,45.472587 C253.811169,77.839587 252.051169,121.493587 226.772169,152.004587" id="Stroke-7" stroke="#E5007D" stroke-width="0.744" stroke-dasharray="9.950000000000001,9.949999999999999"></path>
                                    <path d="M98.1921692,160.591087 C96.9831692,159.470087 95.7981692,158.310087 94.6391692,157.109087 C93.4801692,155.909087 92.3621692,154.685087 91.2841692,153.438087 M93.3461692,35.290087 C94.4671692,34.081087 95.6271692,32.896087 96.8281692,31.737087 C98.0281692,30.578087 99.2531692,29.460087 100.500169,28.382087 M218.647169,30.444087 C219.856169,31.565087 221.041169,32.725087 222.200169,33.926087 C223.359169,35.126087 224.477169,36.351087 225.555169,37.598087 M223.493169,155.745087 C222.372169,156.954087 221.212169,158.139087 220.012169,159.298087 C218.811169,160.457087 217.587169,161.575087 216.340169,162.653087" id="Stroke-9" stroke="#E5007D" stroke-width="0.744"></path>
                                    <path d="M203.580769,183.879487 C169.468769,204.011487 125.983769,201.813487 93.9997692,177.650487" id="Stroke-11" stroke="#E5007D" stroke-width="1.24" stroke-dasharray="15.516,15.516"></path>
                                    <path d="M68.3276692,148.899487 C48.1956692,114.787487 50.3936692,71.302487 74.5566692,39.318487" id="Stroke-13" stroke="#E5007D" stroke-width="1.24" stroke-dasharray="15.516,15.516"></path>
                                    <path d="M103.307669,13.646387 C137.419669,-6.48561301 180.904669,-4.28761301 212.888669,19.875387" id="Stroke-15" stroke="#E5007D" stroke-width="1.24" stroke-dasharray="15.516,15.516"></path>
                                    <path d="M238.560869,48.626387 C258.692869,82.738387 256.494869,126.223387 232.331869,158.207387" id="Stroke-17" stroke="#E5007D" stroke-width="1.24" stroke-dasharray="15.516,15.516"></path>
                                    <path d="M87.9996692,172.736087 C86.0806692,171.034087 84.2126692,169.245087 82.4006692,167.369087 C80.5886692,165.493087 78.8656692,163.563087 77.2326692,161.586087 M79.4706692,33.318087 C81.1726692,31.399087 82.9616692,29.531087 84.8376692,27.719087 C86.7146692,25.907087 88.6436692,24.185087 90.6206692,22.551087 M218.888669,24.790087 C220.807669,26.491087 222.676669,28.280087 224.487669,30.157087 C226.299669,32.033087 228.022669,33.962087 229.656669,35.940087 M227.417669,164.207087 C225.715669,166.127087 223.926669,167.995087 222.050669,169.807087 C220.174669,171.619087 218.244669,173.341087 216.267669,174.975087" id="Stroke-19" stroke="#E5007D" stroke-width="1.24"></path>
                                    <path d="M1.7569692,111.249187 C3.8119692,109.555187 6.8489692,109.809187 8.5399692,111.817187 C10.2309692,113.824187 9.9359692,116.825187 7.8809692,118.519187 C5.8259692,120.212187 2.7889692,119.958187 1.0979692,117.951187 C-0.593030798,115.943187 -0.298030798,112.943187 1.7569692,111.249187" id="Fill-21" fill="#E5007D" opacity="0.5"></path>
                                    <path d="M68.7535692,177.068887 C70.0375692,176.009887 71.9355692,176.168887 72.9925692,177.423887 C74.0495692,178.678887 73.8655692,180.553887 72.5805692,181.611887 C71.2965692,182.670887 69.3985692,182.511887 68.3415692,181.257887 C67.2845692,180.002887 67.4695692,178.127887 68.7535692,177.068887" id="Fill-23" fill="#E5007D" opacity="0.3"></path>
                                </g>
                            </g>
                        </svg>

                        <div class="absolute right-20 top-0 bg-rose-600 px-6 pt-5 pb-2 rounded-br-2xl rounded-bl-2xl">
                            <svg class="mb-4" width="121px" height="57px" viewBox="0 0 121 57" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                <defs>
                                    <linearGradient x1="28.4928122%" y1="105.011568%" x2="32.9065521%" y2="108.87513%" id="linearGradient-ebten5sbbk-1">
                                        <stop stop-color="#FEFEFE" offset="0%"></stop>
                                        <stop stop-color="#E6E6E6" offset="100%"></stop>
                                    </linearGradient>
                                </defs>
                                <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <g id="Group-17" transform="translate(0.709100, 0.000000)">
                                        <g id="Group-3" transform="translate(82.205067, 0.000000)" fill="#FFFFFF">
                                            <path d="M7.56350452,1.49505781 C5.35489639,4.09102184 4.77454213,6.57009952 4.61824063,9.90271931 L4.61824063,9.90271931 C4.46465741,13.2353391 5.08442684,14.0481069 6.2464945,15.7538319 L6.2464945,15.7538319 L7.05926229,16.6060149 L5.85913861,17.8836097 C5.19995403,18.5427943 3.96041519,20.0147467 3.61247446,21.2556447 L3.61247446,21.2556447 C3.26317459,22.4938244 2.72087635,23.8883056 2.06169176,24.5094342 L2.06169176,24.5094342 L1.17009365,25.1672596 C-0.727270632,26.4842696 0.00802598406,26.175744 1.09398161,25.4390883 L1.09398161,25.4390883 C2.1785781,24.7024325 3.53364414,24.0051919 1.09398161,26.5630999 L1.09398161,26.5630999 C0.784096904,26.9490967 1.67433588,26.2138001 3.06881707,24.89679 L3.06881707,24.89679 C5.78030829,22.300826 6.2464945,20.5964601 10.8947652,21.021872 L10.8947652,21.021872 C15.544395,21.4486431 14.2273849,20.131633 15.8936948,18.6977367 L15.8936948,18.6977367 C17.7530031,17.1483131 18.4121877,16.7990133 19.4967842,16.9539556 L19.4967842,16.9539556 C19.7291977,16.9920116 19.1488434,16.294771 18.2191893,15.4045321 L18.2191893,15.4045321 C16.7458778,14.0100509 16.3979371,13.8551085 15.2358694,14.0481069 L15.2358694,14.0481069 C13.9949714,14.2805204 13.9569154,14.2424644 13.7625579,12.8466241 L13.7625579,12.8466241 C13.6850867,12.0338563 13.2202596,9.78583297 12.7934886,7.88846869 L12.7934886,7.88846869 C12.3286615,5.95168925 11.8638345,3.39378124 11.6708361,2.27112873 L11.6708361,2.27112873 C11.206009,-0.326194432 11.1271787,-0.286779272 10.1594685,1.34011546 L10.1594685,1.34011546 C8.80304336,4.24596419 9.15234324,2.81206783 8.76498735,0.952759571 L8.76498735,0.952759571 C8.62091814,0.265032976 8.54616525,0 8.4632575,0 L8.4632575,0 C8.32054743,0 8.14929536,0.763838629 7.56350452,1.49505781" id="Fill-1"></path>
                                        </g>
                                        <g id="Group-6" transform="translate(0.000000, 10.428283)" fill="#FEFEFE">
                                            <path d="M107.591156,31.9419274 C96.5494745,37.0563843 84.3443662,41.0468295 74.2323388,42.8286666 C68.9248835,43.7583207 58.6198578,43.7583207 54.8604669,42.8286666 C49.2825421,41.4722414 45.1752106,39.3030484 42.5017754,36.3591437 C41.029823,34.7308898 41.029823,34.6534186 41.2228214,32.2898681 C41.4171789,29.5389618 42.7341889,26.4020586 44.8259107,23.4962099 C46.2598071,21.4425441 46.2992222,20.7058884 44.9808531,19.5044055 C44.2061413,18.8071649 44.0906141,18.8465801 41.3397077,20.3185325 C39.1310996,21.4806001 38.1620303,22.2566711 37.1943201,23.6892083 C35.5280102,26.1302299 31.1502091,30.7798597 30.8009093,30.469975 C30.6853821,30.3150327 30.9177956,29.6177921 31.3432075,28.9191923 C32.5446903,26.8668857 32.6996327,25.704818 31.8080346,24.6963336 L31.0333228,23.7666795 L30.1811398,24.9287471 C28.5923011,27.0598841 25.1060981,30.5474462 24.7962134,30.3150327 C23.8271441,29.7333193 29.5613704,22.9539117 31.8474497,22.0228984 C32.4672192,21.7524288 32.9701022,21.3256578 32.9701022,21.0932442 C32.9701022,20.3185325 31.8080346,18.9240513 31.1502091,18.9240513 C29.2895417,18.9240513 25.6483964,21.867956 23.2467899,25.3555182 C22.2777206,26.7894145 21.9284207,27.6796535 21.9284207,28.8811363 C21.9284207,30.0826191 21.8509495,30.5474462 20.1071685,31.322158 C18.0154467,32.212397 17.0857925,32.2898681 17.0857925,31.5926275 C17.0857925,30.5080311 18.2872754,26.595057 18.9070448,25.5879317 C20.2621108,23.4567947 21.8903647,21.6355425 22.3932478,21.6355425 C23.4003731,21.6355425 26.7329929,20.0086478 26.9273504,19.4269344 C27.1203488,18.9621073 26.9273504,18.8846361 26.3062218,19.1184088 C25.8033387,19.271992 24.9117406,19.4663495 24.3313864,19.5818767 L23.2467899,19.7762342 L24.4088575,17.5295701 C26.8879352,12.5700556 26.8879352,10.0135067 24.4088575,10.0135067 C21.9284207,10.0135067 22.7031325,10.2839763 22.0833631,10.593861 C21.0381817,11.1361592 20.9212954,11.4079879 20.9212954,12.9574115 C20.9212954,14.506835 20.5339395,15.4759043 19.9141701,16.7154431 C18.2478602,20.1635901 18.2098042,20.2030053 14.7616572,20.3960037 C9.99514106,20.6678323 9.95708505,20.6284172 13.4827032,16.5224448 C18.4422177,10.6713321 21.4255376,5.82870396 21.9284207,2.72849771 C22.1227782,1.41148769 22.045307,1.10160298 21.2705953,0.559304738 C20.2621108,-0.137935861 19.4099279,-0.175991878 17.4350924,0.404362383 C15.0321268,1.06354696 14.722242,1.64390123 14.722242,5.13146336 C14.722242,9.78109317 13.1334033,13.151769 8.75560222,18.0324532 C7.08929233,19.8931206 6.77940762,20.0480629 4.72710098,20.3185325 C1.04654047,20.7453035 0,21.3256578 0,23.0313828 C0,24.7357487 1.3944812,25.278047 1.85930826,24.2709217 C2.32413533,23.2637964 3.87355888,23.108854 3.87355888,23.5342659 C3.87355888,23.961037 3.64114535,24.0765642 3.33126064,24.3089777 C2.47907769,25.0456335 1.16206766,28.1064245 1.16206766,29.3853785 C1.16206766,30.6629734 1.3944812,31.0503293 1.70436591,31.6700987 C2.44102167,33.0265239 5.3468704,35.6619031 5.92722466,35.4675456 C6.23710937,35.3900744 6.46952291,33.8012357 6.62582441,30.8953869 C6.77940762,27.6021823 7.01182115,26.0133436 7.63294972,24.6963336 L8.44571751,22.8750813 L10.8867392,22.6440269 C12.2431644,22.4877254 14.0250014,22.2947271 14.8771844,22.1397847 L16.3885519,21.9454272 L14.6447709,24.3864489 C11.3909814,29.0754938 11.2740951,30.1981463 13.7925879,32.8715815 C15.2645403,34.4604203 15.8462537,34.808361 16.891435,34.808361 C18.4422177,34.808361 21.3086513,33.5307661 22.3157766,32.4448105 C22.6650765,32.0588137 23.4003731,31.7095139 23.9440305,31.7095139 C24.4863287,31.7095139 25.4540389,31.1278005 26.4231082,30.1600903 C28.1274741,28.4543653 28.3598876,28.3388381 28.0500029,29.191021 C27.662647,30.1206752 28.941601,31.7095139 30.0642535,31.7095139 C31.1882652,31.7095139 34.2490562,28.9966635 36.8844354,25.4329893 C38.0465031,23.8835658 39.1310996,22.7989693 39.5565115,22.7989693 C39.9832825,22.7989693 40.5255808,22.682083 40.8748807,22.5665558 C41.4171789,22.3327831 41.4171789,22.5665558 40.6805231,23.999093 C38.3944438,28.4543653 37.8140896,32.2518121 38.9761572,35.0407745 C39.9058114,37.2493827 44.2836125,41.3947702 47.5387611,43.0610801 C52.2264469,45.5021018 55.4027652,46.1612864 62.5708878,46.1612864 C71.3659052,46.1612864 78.3002552,44.72739 90.27295,40.3495889 C95.1930493,38.5663927 111.85343,30.7023886 111.50413,30.3530887 C111.387244,30.2375615 109.644822,30.9348021 107.551741,31.9025122 L107.591156,31.9419274 Z" id="Fill-4"></path>
                                        </g>
                                        <g id="Group-9" transform="translate(103.690278, 12.880603)" fill="url(#linearGradient-ebten5sbbk-1)">
                                            <path d="M14.6325386,0.0448517344 L13.1619453,1.32244659 C12.3084032,2.05910235 10.8364509,3.10564282 9.86738158,3.64658192 L9.86738158,3.64658192 C8.89967143,4.19023931 7.65877344,4.96495109 7.07841918,5.35230698 L7.07841918,5.35230698 C6.40836145,5.81713404 5.83752119,5.7002477 5.37269413,5.0030071 L5.37269413,5.0030071 C3.93879777,2.79575811 3.08661482,2.56334458 1.03294904,3.84093944 L1.03294904,3.84093944 C0.428130192,4.21606304 0.100576617,4.42673027 0,4.5775952 L0,4.5775952 L0,4.76243871 C0.0679571734,4.84806475 0.23920925,4.92961336 0.490650792,5.04242227 L0.490650792,5.04242227 C1.38360805,5.46783417 1.57660642,5.81713404 2.3513182,8.76103879 L2.3513182,8.76103879 C2.66120291,9.92310646 3.12602998,12.4035433 4.44304,13.1782551 L4.44304,13.1782551 C6.34176342,14.2628516 5.99382269,15.6192767 5.99382269,18.6420118 L5.99382269,18.6420118 C5.99382269,21.6620286 5.83752119,22.3986843 5.95440753,21.9338573 L5.95440753,21.9338573 C6.34176342,19.5322508 6.92347682,19.647778 6.80659049,21.3929182 L6.80659049,21.3929182 C6.69106329,23.1353401 7.46441593,18.1377696 7.77565978,13.992382 L7.77565978,13.992382 C8.00807331,11.1640044 8.08554449,10.8541197 8.74472907,11.0077029 L8.74472907,11.0077029 C10.8745069,11.5894163 14.4775962,8.76103879 15.4466655,5.77771888 L15.4466655,5.77771888 C15.8557677,4.52730689 16.1371104,3.62483563 16.3097216,2.98875649 L16.3097216,2.98875649 L16.3097216,1.65000017 C16.171089,1.69213362 15.9685766,1.83620282 15.7184942,2.01968719 L15.7184942,2.01968719 L15.7184942,1.98027203 C15.2278434,2.34316334 14.930191,2.03327863 14.8268961,1.05197704 L14.8268961,1.05197704 L14.7100098,0.0448517344 C14.7100098,0.023105439 14.684186,0 14.6624397,0 L14.6624397,0 C14.64613,0 14.6325386,0.0108731477 14.6325386,0.0448517344" id="Fill-7"></path>
                                        </g>
                                        <g id="Group-16" transform="translate(29.647789, 13.619791)" fill="#FEFEFE">
                                            <path d="M63.0656394,11.5868834 C62.3683988,12.284124 62.5627563,14.9956152 63.3361089,14.9956152 C64.1121799,14.9956152 64.0727647,14.3758458 64.6544781,13.6405492 C65.5447171,12.5165375 65.6616034,12.1291816 65.3123035,11.7024106 C64.7319493,11.00517 63.6854088,10.967114 63.0656394,11.5868834" id="Fill-10"></path>
                                            <path d="M75.1541332,21.8927246 C72.3257557,24.9915717 69.6917356,27.0071815 68.4508376,27.0071815 C67.2112988,27.0071815 67.5605987,25.922585 69.3424357,24.8760446 C70.2720899,24.3337463 71.8609286,23.0167363 72.8286387,21.9701958 C74.4174775,20.2658299 74.611835,19.878474 74.611835,18.2896353 C74.611835,14.0667766 70.6988609,15.6162001 66.1647583,21.6208959 C64.0349805,24.4886887 60.8192471,27.5494798 60.3150048,27.239595 C59.5783491,26.774768 59.8121218,26.1155834 61.8263724,22.8617939 C63.9575093,19.3742318 64.3054501,17.5529795 63.0264961,16.3909119 C62.3306146,15.7317273 62.2531434,15.8105576 61.0122454,18.0952778 C58.9979948,21.8533095 53.4187109,28.0143068 52.6439991,27.2776511 C52.4115856,27.0071815 53.3806549,25.1859293 55.665375,21.6603111 C57.2542137,19.2192894 57.5640985,18.4826337 57.4091561,17.5529795 C57.1767426,16.4683831 56.5963883,15.8105576 55.8977886,15.7711425 C55.7442054,15.7711425 54.8906633,16.430327 53.9610091,17.2430948 C51.1326316,19.8010028 51.1720467,19.7615877 51.1720467,18.0572218 C51.1720467,17.2050388 50.862162,16.2753847 50.5522773,15.9260848 C50.0099791,15.4232017 49.8156215,15.5767849 48.7310251,17.7853931 C47.2590727,20.730657 44.2363376,24.681687 43.4222107,24.681687 C42.6094429,24.681687 42.8799124,24.5661598 43.4222107,23.5196194 C44.1588664,22.0870822 44.1588664,21.2335401 43.4222107,20.9236553 C42.4939157,20.5757146 41.5629024,21.7758383 41.6023176,23.326621 C41.6023176,24.4492735 41.369904,24.9141006 40.0515349,26.0381122 C37.5344012,28.2073052 36.2935032,27.7818933 37.2245165,25.1084581 C38.3091129,21.8927246 41.6797887,18.4826337 43.7715105,18.4826337 C45.8645915,18.4826337 44.856107,18.3276913 44.9729934,18.134693 C45.3209341,17.5923947 42.9573836,15.7711425 41.9122023,15.7711425 C40.8656618,15.7711425 37.4175148,18.134693 35.8680913,20.4207723 C33.3495984,24.1393888 28.9323822,28.4016627 28.9323822,27.0846527 C28.9323822,25.7676427 30.0563938,24.9915717 31.450875,22.7843228 C34.008783,18.6769912 34.2792526,17.8628643 33.582012,16.5077982 C32.9622425,15.4232017 32.1875308,15.6162001 30.3268634,17.320566 C29.3985684,18.172749 28.5450263,18.8699896 28.3900839,18.8699896 C28.2351416,18.8699896 28.1576704,18.4445777 28.1576704,17.9403354 C28.1576704,17.0106813 27.2674314,15.7711425 26.6082468,15.7711425 C25.9490623,15.7711425 24.9813521,16.8557389 23.4699846,18.134693 C21.8430898,19.5291741 20.9134357,20.1489436 21.1839053,19.6460605 C21.6881475,18.7150472 21.4557339,16.7782678 20.7584933,15.8866697 C20.1373648,15.1894291 19.6344817,15.2669002 19.6344817,16.0810272 C19.6344817,16.8951541 18.5104701,18.59952 17.1159889,20.8461842 C14.4819688,25.0309869 14.0946129,26.5423544 15.1397943,28.0143068 C15.7989788,28.8664898 15.5665653,29.0214321 18.5498852,25.0690429 C19.7500089,23.4815634 21.6487323,21.2729552 22.772744,20.2264147 L24.7489386,18.2896353 L23.3925134,20.2264147 C20.7584933,24.0238616 20.1373648,26.3099409 21.3782628,27.9368356 C22.0755034,28.8270746 21.9980322,28.9059049 23.3150422,26.2705257 C24.4390539,24.0619176 26.9575467,21.1180129 29.5140956,19.1418183 L31.0635191,17.9022794 L29.5915667,19.91653 C27.5773161,22.7068516 26.5307757,25.1859293 26.8406604,26.5029393 C27.499845,29.3313168 29.0098533,29.2932608 32.0706444,26.3479969 L34.3567237,24.178804 L34.3567237,25.7282275 C34.3567237,28.7496034 37.1470453,29.5256744 40.09095,27.3551222 C40.9825482,26.6972968 41.7178448,26.0000562 41.7178448,25.8056987 C41.7178448,25.6127003 42.3376142,25.4563988 43.0742699,25.4563988 C44.2363376,25.4563988 44.4306951,25.5732851 44.4306951,26.3479969 C44.4306951,27.1227087 45.5533476,28.982017 45.8251763,28.3241915 C46.2505882,27.3170662 49.3888505,23.0942075 51.1720467,21.1560689 C53.6511244,18.4051625 54.5427225,17.9403354 52.9919398,20.1883587 C50.7452757,23.4040922 50.0874502,26.0381122 51.0171044,27.8199493 C51.752401,29.1383185 53.2243534,28.7115474 55.5117918,26.5804105 L57.6035136,24.5661598 L57.6035136,25.6901715 C57.6035136,27.2001799 58.6106389,28.5566051 59.6952354,28.5566051 C60.7798319,28.5566051 63.5307383,26.6198256 64.267394,25.4563988 C64.9252195,24.3718023 65.157633,24.4886887 65.2351042,25.8831699 C65.4294617,28.7890186 68.2184241,29.3313168 71.0862168,27.0452375 C73.4497673,25.1859293 77.7500972,20.4588283 77.7500972,19.7615877 C77.7500972,19.0643471 76.7429719,20.1883587 75.1935484,21.8927246 L75.1541332,21.8927246 Z M72.5962252,19.2587046 C72.9849402,19.2587046 72.9455251,19.4911181 72.518754,20.3038859 C71.9003438,21.5053688 69.3030206,24.1393888 69.032551,23.8689192 C68.7226663,23.5590345 72.0552861,19.2587046 72.5962252,19.2587046 L72.5962252,19.2587046 Z" id="Fill-12"></path>
                                            <path d="M38.3088411,9.06852645 C37.3017158,10.0375957 36.1777042,10.8123075 35.8284043,10.7728924 C35.3255212,10.7728924 35.3635772,10.6954212 35.9847058,10.3080653 C37.7271277,9.2234688 38.8891954,7.75151643 38.8891954,6.58944876 C38.8891954,4.61325416 37.6116005,5.03866607 34.3958671,8.17692833 C31.373132,11.0827771 30.3279507,11.3546058 31.373132,8.91358409 C31.8393182,7.78957245 31.9942606,7.67404525 32.5351997,8.13887232 C33.0788571,8.56428422 33.2337994,8.52622821 33.6986265,7.90645878 C34.0085112,7.5191029 34.2409247,6.66691994 34.2409247,6.08520654 C34.2409247,5.07808123 34.1240384,5.00061005 33.1943843,5.23302358 C32.5351997,5.34855078 31.0251913,6.62750478 29.4757677,8.25439951 L26.8403885,11.0053059 L28.0418714,9.02911129 C28.6616408,7.9445148 29.203939,6.74439112 29.203939,6.39509125 C29.203939,5.42602196 28.1193425,5.19360842 27.2277444,6.00773536 C26.4924478,6.66691994 26.4530327,6.66691994 25.8332632,5.77532183 L25.2134938,4.88372371 L24.476838,6.31762007 C23.5865991,8.09945716 20.7962775,10.8123075 19.9440946,10.7728924 C19.4792675,10.7728924 19.5961539,10.579894 20.2933945,10.1150669 C22.1907587,8.83611292 23.0048857,7.75151643 23.0048857,6.5500336 C23.0048857,5.34855078 22.8499433,5.38796594 22.0752315,5.38796594 C21.3005198,5.38796594 20.4483368,6.16267771 18.7426118,7.98392996 C17.1551322,9.72771103 16.4578916,10.3080653 16.6128339,9.72771103 C16.8058323,9.14599763 16.65089,8.56428422 16.2254781,8.09945716 C15.6437647,7.44163172 15.6437647,7.36416054 16.2635341,7.01486067 C17.1551322,6.51197759 16.6903051,5.38796594 15.5662935,5.38796594 C14.4422818,5.38796594 13.164687,6.27956405 12.1562025,7.90645878 C11.1490772,9.57276868 11.2659635,11.1996634 12.4660872,11.8194328 C13.3196293,12.2448447 13.2802142,12.2448447 11.9632041,12.9815005 C10.7617213,13.6406851 10.5293078,13.6406851 10.2194231,13.1364428 C9.63906881,12.2448447 9.79401117,9.65023985 10.5293078,7.55715891 C11.071606,6.00773536 11.4209059,5.54290829 12.4280312,5.23302358 C14.1323971,4.65131018 14.4422818,4.22589827 13.164687,4.22589827 C11.885733,4.22589827 12.1181465,4.10901193 12.35056,3.52865767 C13.0083855,1.97787498 13.0083855,1.43557673 12.35056,0.738336135 C11.9632041,0.312924229 11.5364331,-0.0363756419 11.4209059,0.00303951863 C11.3040196,0.00303951863 10.0644807,1.24257836 8.70805554,2.71453074 L6.26839301,5.38796594 L3.67242899,5.38796594 C2.23853263,5.38796594 0.882107448,5.19360842 0.649693915,4.96119489 C-0.163073878,4.1484271 -0.240545056,5.2710796 0.572222738,6.31762007 C1.11452098,7.01486067 1.7342904,7.32474538 2.58647336,7.32474538 C3.82737134,7.32474538 3.78795618,7.32474538 1.7342904,8.71922658 C0.0299244939,9.88265339 -0.240545056,10.1925381 0.262338027,10.5024228 C1.07646496,10.9278347 2.78083087,10.0756518 5.18243738,8.09945716 C6.15150667,7.28668936 7.31357434,6.5500336 7.7784014,6.39509125 C8.59252834,6.1246217 8.59252834,6.20209288 8.39817083,8.99105527 C8.24322847,11.2377194 8.32069965,12.1673736 8.82494187,13.1364428 C9.40529613,14.3379257 9.40529613,14.492868 8.82494187,15.1126375 C7.89528774,16.1197628 8.39817083,17.0113609 9.90953836,17.0113609 C11.4209059,17.0113609 11.6139043,16.5465338 14.481697,13.5237987 C17.6199593,10.1531229 17.7749016,10.0375957 18.1622575,10.8897787 C18.6651406,12.0518464 19.9060386,12.2067887 21.0681062,11.2771346 C21.6878757,10.7851246 22.2179416,10.8000752 22.6569449,11.3151906 C23.0945891,11.830306 23.5091279,11.7147788 23.8964838,10.9672499 C24.2063685,10.3474805 24.8641939,9.4952975 25.290965,9.06852645 L26.1431479,8.33187069 L25.7557921,9.41782632 C25.4459073,10.1531229 25.4459073,10.6954212 25.7163769,11.2377194 C26.2600343,12.2448447 26.9572749,12.1673736 28.0418714,11.0053059 L28.9715255,9.99818058 L29.4757677,11.0053059 C30.1335932,12.2067887 31.373132,12.2842599 32.5746148,11.1602482 L33.4267978,10.3080653 L34.1634535,11.1996634 C35.1705789,12.4392022 36.3326465,12.0518464 38.6567818,9.68829587 C41.0978035,7.20921818 40.827334,6.74439112 38.3088411,9.06852645 L38.3088411,9.06852645 Z M35.6734619,8.87416893 C35.7903483,8.44875703 37.1467735,7.2472742 37.1467735,7.2472742 C37.1467735,7.2472742 37.4566582,6.93738949 37.6496565,6.93738949 C37.8440141,6.93738949 36.8368887,8.02198598 36.8368887,8.06140114 L36.1396481,8.75864174 C36.1396481,8.75864174 35.5959908,9.2234688 35.7128771,8.83611292 L35.6734619,8.87416893 Z M19.7891522,8.87416893 C19.9060386,8.44875703 21.2611046,7.2472742 21.2611046,7.2472742 C21.2611046,7.2472742 21.5709893,6.93738949 21.7653468,6.93738949 C21.9583452,6.93738949 20.9512199,8.02198598 20.9512199,8.06140114 L20.2539793,8.75864174 C20.2539793,8.75864174 19.7116811,9.2234688 19.8285674,8.83611292 L19.7891522,8.87416893 Z M9.1728826,4.65131018 C8.70805554,5.03866607 8.7474707,4.84566769 9.40529613,3.91601356 C10.3363094,2.55958838 10.8786077,2.24970367 10.2588382,3.37371532 C10.0644807,3.76107121 9.56159763,4.34142547 9.1728826,4.65131018 L9.1728826,4.65131018 Z M10.8786077,14.8802239 C9.90953836,15.7324069 9.05735541,16.1197628 9.05735541,15.6943509 C9.05735541,15.2675798 11.4983771,13.9111546 11.7688466,13.9111546 C11.885733,13.9111546 11.4589619,14.3759817 10.8786077,14.8802239 L10.8786077,14.8802239 Z M14.481697,9.26288396 C14.0168699,9.88265339 13.5520429,10.4249516 13.4745717,10.4249516 C13.202743,10.4249516 13.66757,9.65023985 14.4042258,8.75864174 C15.3338799,7.71210127 15.371936,7.98392996 14.481697,9.26288396 L14.481697,9.26288396 Z" id="Fill-14"></path>
                                        </g>
                                    </g>
                                </g>
                            </svg>

                            <div>
                                <p class="font-normal text-sm leading-6 text-white w-full">
                                    <span class="font-black">Réf. : </span>{{ current_user.ref_cli }}
                                </p>
                                <p class="font-normal text-sm leading-6 text-white">
                                    <span class="font-black">Code : </span>{{ current_user.code_cli }}
                                </p>
                            </div>
                        </div>

                        <div class="grid grid-cols-12 mt-2 items-start gap-x-16">
                            <div class="col-span-3">
                                <div class="w-[170px] h-[200px] relative border-[3px] border-rose-600 rounded-xl overflow-hidden">
                                    <img class="absolute top-0 left-0 object-cover w-full h-full" :src="blobImage" alt="">
                                </div>
                            </div>
                            <div class="col-span-9 grid-cols-12 grid">
                                <div class="col-span-full mb-1">
                                    <span class="text-rose-600 text-3xl font-['Baloo_Bhai']">{{ current_user.pNoms_cli }}</span>        
                                </div>
                                <div class="col-span-6 border-r border-r-rose-600 leading-5">
                                    <p class="font-normal text-xs leading-5">
                                        <span class="text-rose-600 font-black">Âge :</span>
                                        {{ calculateAge(current_user.dateNaiss_cli) }} ans
                                    </p>

                                    <p class="font-normal text-xs leading-5">
                                        <span class="text-rose-600 font-black">Nationalité :</span>
                                        {{ current_user.nat_cli }}
                                    </p>

                                    <p class="font-normal text-xs leading-5 ">
                                        {{ getSituationCli() }},
                                        {{ current_user.fum_cli && current_user.sexe_cli === 'H' ?
                                        'Fumeur' : current_user.fum_cli && current_user.sexe_cli === 'F' ?
                                        'Fumeuse' : !current_user.fum_cli && current_user.sexe_cli === 'H' ? 'Non fumeur' : 'Non fumeuse' }}
                                    </p>

                                    <p class="font-normal text-xs leading-5">
                                        <span class="text-rose-600 font-black">Enfants :</span>
                                        {{ current_user.nbEnf_cli > 0 ? `${current_user.nbEnf_cli} (de ${current_user.minEnf_cli} à ${current_user.maxEnf_cli} )` : 'Aucun' }}
                                    </p>

                                    <p class="font-normal text-xs leading-5">
                                        <span class="text-rose-600 font-black">À charge :</span>
                                        {{ current_user.chargeEnf_cli }}
                                    </p>

                                    <p class="font-normal text-xs leading-5">
                                        <span class="text-rose-600 font-black">Tendances politiques :</span>
                                        {{ mapKey('pol_cli', current_user.pol_cli) }}
                                    </p>
                                    <p class="font-normal text-xs leading-5">
                                        <span class="text-rose-600 font-black">Religion :</span>
                                        {{ current_user.reli_cli ? current_user.reli_cli : 'Indéterminé' }}
                                    </p>
                                </div>

                                <div class="col-span-6 pl-8">
                                    <p class="font-normal text-xs leading-5">
                                        <span class="text-rose-600 font-black">Taille :</span>
                                        {{ current_user.taille_cli }} cm
                                    </p>
                                    
                                    <p class="font-normal text-xs leading-5">
                                        <span class="text-rose-600 font-black">Poids :</span>
                                        {{ current_user.poid_cli }} kg
                                    </p>

                                    <p class="font-normal text-xs leading-5">
                                        <span class="text-rose-600 font-black">Cheveux :</span>
                                        {{ mapKey('cheveux_cli', current_user.cheveux_cli) }}
                                    </p>

                                    <p class="font-normal text-xs leading-5">
                                        <span class="text-rose-600 font-black">Yeux :</span>
                                        {{ mapKey('yeux_cli',current_user.yeux_cli) }}
                                    </p>
                                    
                                    <p class="font-normal text-xs leading-5">
                                        <span class="text-rose-600 font-black">Forme physique :</span>
                                        {{ current_user.sante_cli }}
                                    </p>

                                    <p class="font-normal text-xs leading-5">
                                        <span class="text-rose-600 font-black">Lunettes :</span>
                                        {{ current_user.lun_cli ? 'Oui' : 'Non' }}
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-12 mt-8 items-start">
                            <div class="col-span-5 border-r border-r-rose-600 leading-5">
                                <p class="font-normal text-xs leading-5">
                                    <span class="text-rose-600 font-black">Milieu Social :</span>
                                    {{ mapKey('ms_cli', current_user.ms_cli) }}
                                </p>

                                <p class="font-normal text-xs leading-5">
                                    <span class="text-rose-600 font-black">Profession :</span>
                                    {{ current_user.prof_cli }}
                                </p>

                                <p class="font-normal text-xs leading-5 ">
                                    <span class="text-rose-600 font-black">Revenus :</span>
                                    {{ mapKey('tranche_cli', current_user.tranche_cli) }}
                                </p>

                                <p class="font-normal text-xs leading-5">
                                    <span class="text-rose-600 font-black">Horaires :</span>
                                    {{ current_user.hor_cli }}
                                </p>

                                <p class="font-normal text-xs leading-5">
                                    <span class="text-rose-600 font-black">Véhicule</span>
                                    {{ current_user.veh_cli ? 'Oui' : 'Non' }}
                                </p>

                                <p class="font-normal text-xs leading-5">
                                    <span class="text-rose-600 font-black">Permis :</span>
                                    {{ current_user.permis_cli ? 'Oui' : 'Non' }}
                                </p>
                                <p class="font-normal text-xs leading-5">
                                    <span class="text-rose-600 font-black">Logement :</span>
                                    {{ mapKey('loge_cli',current_user.loge_cli) }}
                                </p>
                            </div>

                            <div class="col-span-7 pl-8">
                                <p class="font-normal text-xs leading-5">
                                    <span class="text-rose-600 font-black">Caractère :</span>
                                    {{ current_user.desc_cli }}
                                </p>
                                
                                <p class="font-normal text-xs leading-5 mt-2">
                                    <span class="text-rose-600 font-black">Goûts / loisirs :</span>
                                    {{ current_user.interets_cli }}
                                </p>

                                <p class="font-normal text-xs leading-5 mt-2">
                                    <span class="text-rose-600 font-black">Milieu d'éducation :</span>
                                    {{ current_user.milieu_cli }}
                                </p>
                            </div>
                        </div>

                        <div class="border-4 rounded-xl border-rose-600 pt-5 pb-10 px-10 mt-12 relative">
                            <svg class="absolute -top-11 -left-4" width="60px" height="58px" viewBox="0 0 28 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <g id="Group-3" transform="translate(0.192095, -0.000000)" fill="#ED5390">
                                        <path d="M5.56490518,1.1 C3.93990518,3.01 3.51290518,4.834 3.39790518,7.286 L3.39790518,7.286 C3.28490518,9.738 3.74090518,10.336 4.59590518,11.591 L4.59590518,11.591 L5.19390518,12.218 L4.31090518,13.158 C3.82590518,13.643 2.91390518,14.726 2.65790518,15.639 L2.65790518,15.639 C2.40090518,16.55 2.00190518,17.576 1.51690518,18.033 L1.51690518,18.033 L0.860905178,18.517 C-0.535094822,19.486 0.00590517797,19.259 0.804905178,18.717 L0.804905178,18.717 C1.60290518,18.175 2.59990518,17.662 0.804905178,19.544 L0.804905178,19.544 C0.576905178,19.828 1.23190518,19.287 2.25790518,18.318 L2.25790518,18.318 C4.25290518,16.408 4.59590518,15.154 8.01590518,15.467 L8.01590518,15.467 C11.4369052,15.781 10.4679052,14.812 11.6939052,13.757 L11.6939052,13.757 C13.0619052,12.617 13.5469052,12.36 14.3449052,12.474 L14.3449052,12.474 C14.5159052,12.502 14.0889052,11.989 13.4049052,11.334 L13.4049052,11.334 C12.3209052,10.308 12.0649052,10.194 11.2099052,10.336 L11.2099052,10.336 C10.2969052,10.507 10.2689052,10.479 10.1259052,9.452 L10.1259052,9.452 C10.0689052,8.854 9.72690518,7.2 9.41290518,5.804 L9.41290518,5.804 C9.07090518,4.379 8.72890518,2.497 8.58690518,1.671 L8.58690518,1.671 C8.24490518,-0.24 8.18690518,-0.211 7.47490518,0.986 L7.47490518,0.986 C6.47690518,3.124 6.73390518,2.069 6.44890518,0.701 L6.44890518,0.701 C6.34290518,0.195 6.28790518,0 6.22690518,0 L6.22690518,0 C6.12190518,0 5.99590518,0.562 5.56490518,1.1" id="Fill-1"></path>
                                        <path d="M26.5739052,9.51 L25.4919052,10.45 C24.8639052,10.992 23.7809052,11.762 23.0679052,12.16 L23.0679052,12.16 C22.3559052,12.56 21.4429052,13.13 21.0159052,13.415 L21.0159052,13.415 C20.5229052,13.757 20.1029052,13.671 19.7609052,13.158 L19.7609052,13.158 C18.7059052,11.534 18.0789052,11.363 16.5679052,12.303 L16.5679052,12.303 C16.1229052,12.579 15.8819052,12.734 15.8079052,12.845 L15.8079052,12.845 L15.8079052,12.981 C15.8579052,13.044 15.9839052,13.104 16.1689052,13.187 L16.1689052,13.187 C16.8259052,13.5 16.9679052,13.757 17.5379052,15.923 L17.5379052,15.923 C17.7659052,16.778 18.1079052,18.603 19.0769052,19.173 L19.0769052,19.173 C20.4739052,19.971 20.2179052,20.969 20.2179052,23.193 L20.2179052,23.193 C20.2179052,25.415 20.1029052,25.957 20.1889052,25.615 L20.1889052,25.615 C20.4739052,23.848 20.9019052,23.933 20.8159052,25.217 L20.8159052,25.217 C20.7309052,26.499 21.2999052,22.822 21.5289052,19.772 L21.5289052,19.772 C21.6999052,17.691 21.7569052,17.463 22.2419052,17.576 L22.2419052,17.576 C23.8089052,18.004 26.4599052,15.923 27.1729052,13.728 L27.1729052,13.728 C27.4739052,12.808 27.6809052,12.144 27.8079052,11.676 L27.8079052,11.676 L27.8079052,10.691 C27.7059052,10.722 27.5569052,10.828 27.3729052,10.963 L27.3729052,10.963 L27.3729052,10.934 C27.0119052,11.201 26.7929052,10.973 26.7169052,10.251 L26.7169052,10.251 L26.6309052,9.51 C26.6309052,9.494 26.6119052,9.477 26.5959052,9.477 L26.5959052,9.477 C26.5839052,9.477 26.5739052,9.485 26.5739052,9.51" id="Fill-7"></path>
                                    </g>
                                </g>
                            </svg>

                            <h2 class="text-rose-600 text-4xl font-['Baloo_Bhai'] mb-4">Le profil recherché</h2>

                            <p class="font-normal text-xs leading-5">
                                <span class="text-rose-600 font-black">Âge :</span>
                                {{ current_user.desAge_cli }} ans
                            </p>

                            <p class="font-normal text-xs leading-5">
                                <span class="text-rose-600 font-black">Enfants :</span>
                                {{ mapKey('desNbEn_cli', current_user.desNbEn_cli) }}
                            </p>
                            
                            <p class="font-normal text-xs leading-5">
                                <span class="text-rose-600 font-black">Célibataire :</span>
                                {{ current_user.desCelib_cli ? 'Oui' : 'Non' }}

                                <span class="text-rose-600 font-black"> - Veuf(ve) :</span>
                                {{ current_user.desVeuf_cli ? 'Oui' : 'Non' }}

                                <span class="text-rose-600 font-black"> - Divorcé(e) :</span>
                                {{ current_user.desDiv_cli ? 'Oui' : 'Non' }}

                                <span class="text-rose-600 font-black"> - Séparé(e) :</span>
                                {{ current_user.desSep_cli ? 'Oui' : 'Non' }}
                            </p>

                            <p class="font-normal text-xs leading-5 mt-5">
                                <span class="text-rose-600 font-black">Allure et physique :</span>
                                {{ current_user.desPhy_cli }}
                            </p>

                            <p class="font-normal text-xs leading-5">
                                <span class="text-rose-600 font-black">Caractère :</span>
                                {{ current_user.desCaract_cli }}
                            </p>

                            <p class="font-normal text-xs leading-5">
                                <span class="text-rose-600 font-black">De la région exclusivement :</span>
                                {{ current_user.desReg ? 'Oui' : 'Non' }}
                            </p>

                            <p class="font-normal text-xs leading-5">
                                <span class="text-rose-600 font-black">Profession :</span>
                                {{ mapKey('desProf_cli', current_user.desProf_cli) }}
                            </p>

                            <p class="font-normal text-xs leading-5">
                                <span class="text-rose-600 font-black">Degré d'instruction :</span>
                                {{ mapKey('desInst_cli', current_user.desInst_cli) }}
                            </p>

                            <p class="font-normal text-xs leading-5">
                                <span class="text-rose-600 font-black">Caractéristiques indispensables :</span>
                                {{ current_user.desCarctIndisp_cli }}
                            </p>

                            <svg class="absolute -bottom-10 right-2"  width="154px" height="146px" viewBox="0 0 114 96" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <g id="Group-13" transform="translate(2.000000, 2.000000)">
                                        <path d="M6.79058793,4.32375695 C14.7935879,-2.27324305 26.7285879,-1.20024305 33.3965879,6.71575695 L79.3225879,61.237757 C82.5435879,65.060757 84.0685879,69.894757 83.6175879,74.849757 C83.1655879,79.818757 80.7815879,84.315757 76.9055879,87.511757 C68.9015879,94.107757 56.9665879,93.034757 50.2995879,85.119757 L4.37258793,30.596757 C1.15258793,26.773757 -0.373412067,21.939757 0.077587933,16.985757 C0.529587933,12.015757 2.91358793,7.51975695 6.79058793,4.32375695" id="Fill-1" fill="#FEFEFE"></path>
                                        <path d="M6.79058793,4.32375695 C14.7935879,-2.27324305 26.7285879,-1.20024305 33.3965879,6.71575695 L79.3225879,61.237757 C82.5435879,65.060757 84.0685879,69.894757 83.6175879,74.849757 C83.1655879,79.818757 80.7815879,84.315757 76.9055879,87.511757 C68.9015879,94.107757 56.9665879,93.034757 50.2995879,85.119757 L4.37258793,30.596757 C1.15258793,26.773757 -0.373412067,21.939757 0.077587933,16.985757 C0.529587933,12.015757 2.91358793,7.51975695 6.79058793,4.32375695 Z" id="Stroke-3" stroke="#E5007D" stroke-width="3"></path>
                                        <path d="M2.09158793,57.024357 C3.44158793,55.911357 5.43558793,56.078357 6.54658793,57.397357 C7.65758793,58.716357 7.46358793,60.686357 6.11358793,61.799357 C4.76358793,62.911357 2.76958793,62.744357 1.65858793,61.426357 C0.547587933,60.107357 0.741587933,58.137357 2.09158793,57.024357" id="Fill-5" fill="#E5007D"></path>
                                        <path d="M64.4229879,5.90165695 C72.4199879,-0.689343047 84.3469879,0.382656953 91.0089879,8.29165695 L105.983988,26.068657 C109.201988,29.887657 110.725988,34.717657 110.275988,39.668657 C109.824988,44.633657 107.441988,49.126657 103.567988,52.319657 C95.5709879,58.911657 83.6449879,57.839657 76.9819879,49.930657 L62.0069879,32.153657 C58.7889879,28.333657 57.2649879,23.503657 57.7149879,18.553657 C58.1669879,13.587657 60.5489879,9.09465695 64.4229879,5.90165695 Z" id="Fill-7" fill="#FEFEFE"></path>
                                        <path d="M64.4229879,5.90165695 C72.4199879,-0.689343047 84.3469879,0.382656953 91.0089879,8.29165695 L105.983988,26.068657 C109.201988,29.887657 110.725988,34.717657 110.275988,39.668657 C109.824988,44.633657 107.441988,49.126657 103.567988,52.319657 C95.5709879,58.911657 83.6449879,57.839657 76.9819879,49.930657 L62.0069879,32.153657 C58.7889879,28.333657 57.2649879,23.503657 57.7149879,18.553657 C58.1669879,13.587657 60.5489879,9.09465695 64.4229879,5.90165695 L64.4229879,5.90165695 Z" id="Stroke-9" stroke="#E5007D" stroke-width="3"></path>
                                        <path d="M44.6675879,3.64605695 C45.6145879,2.86505695 47.0145879,2.98305695 47.7935879,3.90805695 C48.5725879,4.83305695 48.4365879,6.21605695 47.4895879,6.99605695 C46.5425879,7.77705695 45.1435879,7.66005695 44.3635879,6.73505695 C43.5845879,5.80905695 43.7205879,4.42705695 44.6675879,3.64605695" id="Fill-11" fill="#E5007D"></path>
                                    </g>
                                </g>
                            </svg>
                        </div>

                        <div class="mt-4">
                            <p class="text-rose font-black">LOI INFORMATIQUE ET LIBERTES</p>
                            <ul class="leading-3">
                                <li><span class="text-rose">1°</span> Les réponses doannées sont facultatives</li>
                                <li><span class="text-rose">2°</span> Le défaut de réponse n’entraine aucune conséquence.</li>
                                <li><span class="text-rose">3°</span> Seuls le personnel de l’agence, les membres du réseau, et les personnes susceptibles de vous rencontrer peuvent avoir accès à ces informations.</li>
                                <li><span class="text-rose">4°</span> Vous avez un droit d’accès et de rectification.</li>
                                <li><span class="text-rose">5°</span> Les informations fournies sont suscep tibles d’être informatisées.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>


<style lang="scss"> 
    @font-face {
        font-family: 'Baloo Bhai';
        src: url('../assets/fonts/BalooBhai-Regular.woff2') format('woff2'),
        url('../assets/fonts/BalooBhai-Regular.woff') format('woff');
        font-weight: normal;
        font-style: normal;
        font-display: swap;
    }   
    
    div.wrapperPDF {
        // font-family: 'Baloo Bhai', sans-serif;
        #pdf {
            width: 210mm;
            min-height: 297mm;
            padding: 5mm;
            margin: 10mm auto;
            border: 1px #D3D3D3 solid;
            border-radius: 5px;
            background: white;
            box-shadow: 0 0 5px rgb(0 0 0 / 10%);

            @media screen and (max-width: 1024px){
                transform: scale(0.5) translateY(-50%);
            }

            @media screen and (max-width: 767px){
                transform: scale(0.5) translateX(-50%) translateY(-50%);
            }

            div.page {
                height: 287mm;
                font-size: 10px;
                background-color: white;
            }
        }
    }
</style>

